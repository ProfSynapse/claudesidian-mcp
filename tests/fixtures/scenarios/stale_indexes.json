{
  "description": "Stale indexes scenario - existing indexes are outdated and need rebuilding",
  "scenario": "stale_indexes",
  "chromaData": {
    "collections": [
      {
        "name": "file_embeddings",
        "itemCount": 5,
        "hasItems": true,
        "metadata": {
          "hnsw:space": "cosine",
          "hnsw:M": 32,
          "hnsw:ef_construction": 400
        }
      }
    ]
  },
  "indexedDBState": {
    "hasIndexes": true,
    "indexes": {
      "file_embeddings": {
        "itemCount": 3,
        "metadata": {
          "lastModified": 1721312600000,
          "contentHash": "outdated-hash"
        }
      }
    },
    "metadata": {
      "file_embeddings": {
        "version": "1.0.0",
        "createdAt": 1721312600000
      }
    }
  },
  "coordinationServices": {
    "available": true,
    "collectionLoadingTimeout": 30000
  },
  "expectedResults": {
    "collectionsProcessed": 1,
    "indexesBuilt": 1,
    "indexesLoaded": 0,
    "indexesSkipped": 0,
    "success": true,
    "errors": []
  },
  "expectedLogs": [
    "[HNSW-COORDINATOR] Starting simple index comparison and rebuild",
    "[HNSW-UPDATE] Collection file_embeddings can load persisted: false",
    "[HNSW-UPDATE] Collection file_embeddings needs rebuild - creating new index",
    "[HNSW-UPDATE] Collection file_embeddings successfully rebuilt"
  ]
}